<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delicious Recipes</title>
    <link rel="stylesheet" href="/css/nav.css">
</head>
<body>

<header>
    <nav class="site-nav">
        <ul>
            <li><a sec:authorize="isAnonymous()" th:href="@{/}" th:text="#{nav_bar_home}">Home</a></li>
            <li><a sec:authorize="${isAuthenticated}" th:href="@{/home}" th:text="#{nav_bar_home}">Home</a></li>

            <li><a sec:authorize="${isAuthenticated}" th:href="@{/recipes/add}">Add Recipe</a></li>
            <li><a sec:authorize="${isAuthenticated}" th:href="@{/recipes/all}">Recipes</a></li>
            <li><a sec:authorize="${isAuthenticated}" th:href="@{/comments}" th:text="#{nav_bar_comments}">Comments</a></li>
            <li><a sec:authorize="isAnonymous()" th:href="@{/users/register}" th:text="#{nav_bar_register}">Register</a></li>
            <li><a sec:authorize="isAnonymous()" th:href="@{/users/login}" th:text="#{nav_bar_login}">Login</a></li>
            <li sec:authorize="${isAuthenticated}">
                <form th:method="post"
                      th:action="@{/users/logout}">
                    <input id="logout-btn" type="submit" value="Logout"/>
                </form>
            </li>

            <li class="nav-item">
                <form th:method="get">
                    <label for="lang" th:text="#{nav_bar_language}">LANGUAGE: </label>
                    <select
                            id="lang"
                            name="lang"
                             onchange="this.form.submit()">
                        <option value="en_US" th:selected="${#locale.toString()} == 'en_US'">English</option>
                        <option value="bg_BG" th:selected="${#locale.toString()} == 'bg_BG'">Български</option>
                    </select>
                </form>
            </li>

        </ul>
    </nav>
</header>

</body>
</html>